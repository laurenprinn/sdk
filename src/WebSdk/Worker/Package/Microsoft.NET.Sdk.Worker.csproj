<Project>

  <PropertyGroup>
    <PackageId>Microsoft.NET.Sdk.Worker</PackageId>
    <OutDirName>$(Configuration)\Sdks\$(PackageId)\tools</OutDirName>
    <WorkerRoot Condition="'$(WorkerRoot)' == ''">$(RepoRoot)\src\WebSdk\Worker\</WorkerRoot>
  </PropertyGroup>

  <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" />
  <Import Project="$(RepoRoot)\src\WebSdk\Package.props" />

  <PropertyGroup>
    <TargetFrameworks>netstandard2.0</TargetFrameworks>
    <OutputType>Library</OutputType>
    <CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
    <EnableDefaultItems>false</EnableDefaultItems>
    <GenerateDependencyFile>false</GenerateDependencyFile>
    <IncludeBuildOutput>false</IncludeBuildOutput>
    <NoPackageAnalysis>true</NoPackageAnalysis>
    
    <IsPackable>true</IsPackable>
    <OutputPath>$(BaseOutputPath)</OutputPath>
    <PackageLayoutOutputPath>$(ArtifactsBinDir)$(Configuration)\Sdks\$(PackageId)\</PackageLayoutOutputPath>
  </PropertyGroup>

  <ItemGroup>
    <Content Include="$(WorkerRoot)\Targets\**\*.*">
      <Pack>true</Pack>
      <PackagePath>targets</PackagePath>
    </Content>

    <Content Include="$(WorkerRoot)\Sdk\**\*.*">
      <Pack>true</Pack>
      <PackagePath>Sdk</PackagePath>
    </Content>
  </ItemGroup>

  <Import Project="$(RepoRoot)\src\WebSdk\CopyPackageLayout.targets" />
  <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk" />

</Project>
